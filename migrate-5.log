ðŸ”„ Starting Database Migration...
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_user_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "users" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "name" TYPE TEXT;
Executing (default): ALTER TABLE "users" ALTER COLUMN "username" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "username" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("username");ALTER TABLE "users" ALTER COLUMN "username" TYPE TEXT ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE TEXT  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("phone");ALTER TABLE "users" ALTER COLUMN "phone" TYPE TEXT ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "country_code" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "country_code" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "country_code" TYPE TEXT;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE TEXT;
Executing (default): ALTER TABLE "users" ALTER COLUMN "firebase_uid" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "firebase_uid" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("firebase_uid");ALTER TABLE "users" ALTER COLUMN "firebase_uid" TYPE TEXT ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "user_type" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "user_type" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_user_type" AS ENUM(''customer'', ''vendor'', ''admin'', ''super_admin''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "user_type" TYPE "public"."enum_users_user_type" USING ("user_type"::"public"."enum_users_user_type");
Executing (default): ALTER TABLE "users" ALTER COLUMN "avatar" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "avatar" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "avatar" TYPE TEXT;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "phone_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "completion_percentage" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "completion_percentage" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "completion_percentage" TYPE INTEGER;
Executing (default): ALTER TABLE "users" ALTER COLUMN "token_version" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "token_version" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "token_version" TYPE INTEGER;
Executing (default): ALTER TABLE "users" ALTER COLUMN "onboarding_step" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "onboarding_step" SET DEFAULT 0;ALTER TABLE "users" ALTER COLUMN "onboarding_step" TYPE INTEGER;
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "suspended_at" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "suspended_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "suspended_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "suspended_by" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "suspended_by" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "suspended_by" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "suspended_reason" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "suspended_reason" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "suspended_reason" TYPE TEXT;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'auth_sessions'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'auth_sessions' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'auth_sessions' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "auth_sessions" DROP CONSTRAINT "auth_sessions_user_id_fkey"
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "auth_sessions"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "refresh_token_hash" SET NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "refresh_token_hash" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "refresh_token_hash" TYPE TEXT;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "ip_address" DROP NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "ip_address" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "ip_address" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "user_agent" DROP NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "user_agent" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "user_agent" TYPE TEXT;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "device_label" DROP NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "device_label" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "device_label" TYPE TEXT;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "revoked_at" DROP NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "revoked_at" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "revoked_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "expires_at" SET NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "expires_at" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "expires_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "last_used_at" DROP NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "last_used_at" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "last_used_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "auth_sessions" ALTER COLUMN "created_at" DROP NOT NULL;ALTER TABLE "auth_sessions" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "auth_sessions" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'auth_sessions' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_controlled" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_controlled" SET DEFAULT false;ALTER TABLE "categories" ALTER COLUMN "is_controlled" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_products_approval_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_vendor_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("vendor_id") REFERENCES "users" ("id") ON DELETE NO ACTION ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "status" SET DEFAULT 'draft';ALTER TABLE "products" ALTER COLUMN "status" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "approval_status" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "approval_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_products_approval_status" AS ENUM(''pending'', ''approved'', ''rejected''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "products" ALTER COLUMN "approval_status" TYPE "public"."enum_products_approval_status" USING ("approval_status"::"public"."enum_products_approval_status");
Executing (default): ALTER TABLE "products" ALTER COLUMN "rejection_reason" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "rejection_reason" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "rejection_reason" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "sku" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_main_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("main_category_id") REFERENCES "categories" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sub_category_id" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "sub_category_id" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "sub_category_id" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "vehicle_compatibility" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "vehicle_compatibility" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "vehicle_compatibility" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "certifications" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "certifications" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "certifications" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "country_of_origin" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "country_of_origin" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "country_of_origin" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "controlled_item_type" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "controlled_item_type" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "controlled_item_type" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "dimension_length" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "dimension_length" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "dimension_length" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "dimension_width" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "dimension_width" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "dimension_width" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "dimension_height" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "dimension_height" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "dimension_height" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "dimension_unit" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "dimension_unit" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "dimension_unit" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "materials" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "materials" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "materials" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "features" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "features" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "features" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "performance" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "performance" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "performance" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "technical_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "technical_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "technical_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "drive_types" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "drive_types" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "drive_types" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "sizes" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "sizes" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "sizes" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "thickness" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "thickness" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "thickness" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "colors" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "colors" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "colors" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight_value" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight_value" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight_value" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight_unit" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight_unit" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight_unit" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "packing_length" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "packing_length" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "packing_length" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "packing_width" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "packing_width" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "packing_width" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "packing_height" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "packing_height" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "packing_height" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "packing_dimension_unit" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "packing_dimension_unit" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "packing_dimension_unit" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "packing_weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "packing_weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "packing_weight" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "packing_weight_unit" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "packing_weight_unit" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "packing_weight_unit" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "min_order_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "min_order_quantity" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "min_order_quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "base_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "base_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "base_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "products" ALTER COLUMN "currency" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "pricing_terms" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "pricing_terms" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "pricing_terms" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "production_lead_time" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "production_lead_time" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "production_lead_time" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "ready_stock_available" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "ready_stock_available" SET DEFAULT false;ALTER TABLE "products" ALTER COLUMN "ready_stock_available" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "stock" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "stock" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "stock" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "manufacturing_source" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "manufacturing_source" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "manufacturing_source" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "manufacturing_source_name" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "manufacturing_source_name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "manufacturing_source_name" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "requires_export_license" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "requires_export_license" SET DEFAULT false;ALTER TABLE "products" ALTER COLUMN "requires_export_license" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "has_warranty" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "has_warranty" SET DEFAULT false;ALTER TABLE "products" ALTER COLUMN "has_warranty" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "warranty_duration" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "warranty_duration" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "warranty_duration" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "warranty_duration_unit" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "warranty_duration_unit" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "warranty_duration_unit" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "warranty_terms" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "warranty_terms" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "warranty_terms" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "compliance_confirmed" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compliance_confirmed" SET DEFAULT false;ALTER TABLE "products" ALTER COLUMN "compliance_confirmed" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "supplier_signature" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "supplier_signature" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "supplier_signature" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "submission_date" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "submission_date" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "submission_date" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "original_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "original_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "original_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "image" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "gallery" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "gallery" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "gallery" TYPE TEXT[];
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "condition" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "condition" SET DEFAULT 'new';ALTER TABLE "products" ALTER COLUMN "condition" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "make" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "make" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "make" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "model" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "model" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "model" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "year" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "year" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "year" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "rating" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "rating" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "rating" TYPE DECIMAL(2,1);
Executing (default): ALTER TABLE "products" ALTER COLUMN "review_count" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "review_count" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "review_count" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "specifications" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "specifications" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "specifications" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "vehicle_fitment" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "vehicle_fitment" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "vehicle_fitment" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "warranty" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "warranty" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "warranty" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "action_type" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "action_type" SET DEFAULT 'buy_now';ALTER TABLE "products" ALTER COLUMN "action_type" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_featured" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_featured" SET DEFAULT false;ALTER TABLE "products" ALTER COLUMN "is_featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "reviewed_by" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "reviewed_by" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "reviewed_by" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "reviewed_at" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "reviewed_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "reviewed_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "review_note" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "review_note" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "review_note" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_media'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_media' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_media' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "product_media" DROP CONSTRAINT "product_media_product_id_fkey"
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_media"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "type" DROP DEFAULT;ALTER TABLE "product_media" ALTER COLUMN "type" TYPE TEXT;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_media" ALTER COLUMN "url" TYPE TEXT;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "file_name" DROP NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "file_name" DROP DEFAULT;ALTER TABLE "product_media" ALTER COLUMN "file_name" TYPE TEXT;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "file_size" DROP NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "file_size" DROP DEFAULT;ALTER TABLE "product_media" ALTER COLUMN "file_size" TYPE INTEGER;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "mime_type" DROP NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "mime_type" DROP DEFAULT;ALTER TABLE "product_media" ALTER COLUMN "mime_type" TYPE TEXT;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "is_cover" DROP NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "is_cover" SET DEFAULT false;ALTER TABLE "product_media" ALTER COLUMN "is_cover" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "display_order" DROP NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "product_media" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_media" ALTER COLUMN "created_at" DROP NOT NULL;ALTER TABLE "product_media" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_media" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_media' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_pricing_tiers'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_pricing_tiers' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_pricing_tiers' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "product_pricing_tiers" DROP CONSTRAINT "product_pricing_tiers_product_id_fkey"
Executing (default): ALTER TABLE "product_pricing_tiers" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_pricing_tiers"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_pricing_tiers" ALTER COLUMN "min_quantity" SET NOT NULL;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "min_quantity" DROP DEFAULT;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "min_quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_pricing_tiers" ALTER COLUMN "max_quantity" DROP NOT NULL;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "max_quantity" DROP DEFAULT;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "max_quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_pricing_tiers" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_pricing_tiers" ALTER COLUMN "created_at" DROP NOT NULL;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_pricing_tiers" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_pricing_tiers' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'otp_verifications'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_otp_verifications_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_otp_verifications_purpose' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'otp_verifications' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'otp_verifications' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "identifier" SET NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "identifier" DROP DEFAULT;ALTER TABLE "otp_verifications" ALTER COLUMN "identifier" TYPE TEXT;
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "code" SET NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "code" DROP DEFAULT;ALTER TABLE "otp_verifications" ALTER COLUMN "code" TYPE VARCHAR(6);
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_otp_verifications_type" AS ENUM(''email'', ''sms''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "otp_verifications" ALTER COLUMN "type" TYPE "public"."enum_otp_verifications_type" USING ("type"::"public"."enum_otp_verifications_type");
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "purpose" SET NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "purpose" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_otp_verifications_purpose" AS ENUM(''login'', ''registration'', ''password_reset''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "otp_verifications" ALTER COLUMN "purpose" TYPE "public"."enum_otp_verifications_purpose" USING ("purpose"::"public"."enum_otp_verifications_purpose");
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "user_id" DROP NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "user_id" DROP DEFAULT;ALTER TABLE "otp_verifications" ALTER COLUMN "user_id" TYPE UUID;
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "attempts" DROP NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "attempts" SET DEFAULT 0;ALTER TABLE "otp_verifications" ALTER COLUMN "attempts" TYPE INTEGER;
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "expires_at" SET NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "expires_at" DROP DEFAULT;ALTER TABLE "otp_verifications" ALTER COLUMN "expires_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "otp_verifications" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "otp_verifications" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "otp_verifications" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'otp_verifications' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'user_profiles'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_user_profiles_onboarding_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'user_profiles' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'user_profiles' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "user_profiles" DROP CONSTRAINT "user_profiles_user_id_fkey"
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "user_profiles"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "country" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "country" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_name" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_name" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_name" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_email" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_email" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_email" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_phone" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_phone" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_phone" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_phone_country_code" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_phone_country_code" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_phone_country_code" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_website" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_website" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_website" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_size" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_size" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_size" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_type" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_type" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_type" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "type_of_buyer" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "type_of_buyer" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "type_of_buyer" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "country_of_registration" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "country_of_registration" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "country_of_registration" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "registered_company_name" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "registered_company_name" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "registered_company_name" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "trade_brand_name" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "trade_brand_name" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "trade_brand_name" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "registration_type" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "registration_type" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "registration_type" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "legal_name" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "legal_name" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "legal_name" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "registration_number" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "registration_number" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "registration_number" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "year_of_establishment" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "year_of_establishment" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "year_of_establishment" TYPE INTEGER;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_id" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_id" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_id" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_issue_date" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_issue_date" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_issue_date" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_expiry_date" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_expiry_date" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "legal_entity_expiry_date" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "city_office_address" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "city_office_address" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "city_office_address" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "official_website" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "official_website" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "official_website" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "entity_type" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "entity_type" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "entity_type" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "duns_number" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "duns_number" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "duns_number" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "vat_certificate_url" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "vat_certificate_url" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "vat_certificate_url" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "tax_vat_number" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "tax_vat_number" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "tax_vat_number" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "tax_id" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "tax_id" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "tax_id" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "vat_number" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "vat_number" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "vat_number" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "founded_year" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "founded_year" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "founded_year" TYPE INTEGER;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "city" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "city" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "address_line1" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "address_line1" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "address_line1" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "address_line2" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "address_line2" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "address_line2" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "postal_code" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "postal_code" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "postal_code" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "state" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "state" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "tax_issuing_date" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "tax_issuing_date" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "tax_issuing_date" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "tax_expiry_date" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "tax_expiry_date" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "tax_expiry_date" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "contact_full_name" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "contact_full_name" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "contact_full_name" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "contact_job_title" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "contact_job_title" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "contact_job_title" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "contact_work_email" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "contact_work_email" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "contact_work_email" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "contact_id_document_url" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "contact_id_document_url" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "contact_id_document_url" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "contact_mobile" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "contact_mobile" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "contact_mobile" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "contact_mobile_country_code" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "contact_mobile_country_code" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "contact_mobile_country_code" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "terms_accepted" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "terms_accepted" SET DEFAULT false;ALTER TABLE "user_profiles" ALTER COLUMN "terms_accepted" TYPE BOOLEAN;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "terms_accepted_at" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "terms_accepted_at" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "terms_accepted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "nature_of_business" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "nature_of_business" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "nature_of_business" TYPE TEXT[];
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "controlled_dual_use_items" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "controlled_dual_use_items" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "controlled_dual_use_items" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "license_types" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "license_types" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "license_types" TYPE TEXT[];
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "end_use_markets" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "end_use_markets" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "end_use_markets" TYPE TEXT[];
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "operating_countries" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "operating_countries" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "operating_countries" TYPE TEXT[];
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "is_on_sanctions_list" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "is_on_sanctions_list" SET DEFAULT false;ALTER TABLE "user_profiles" ALTER COLUMN "is_on_sanctions_list" TYPE BOOLEAN;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "business_license_url" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "business_license_url" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "business_license_url" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "defense_approval_url" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "defense_approval_url" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "defense_approval_url" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "company_profile_url" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "company_profile_url" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "company_profile_url" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "compliance_terms_accepted" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "compliance_terms_accepted" SET DEFAULT false;ALTER TABLE "user_profiles" ALTER COLUMN "compliance_terms_accepted" TYPE BOOLEAN;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "compliance_terms_accepted_at" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "compliance_terms_accepted_at" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "compliance_terms_accepted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "selling_categories" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "selling_categories" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "selling_categories" TYPE TEXT[];
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "register_as" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "register_as" SET DEFAULT 'Verified Supplier';ALTER TABLE "user_profiles" ALTER COLUMN "register_as" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "preferred_currency" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "preferred_currency" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "preferred_currency" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "sponsor_content" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "sponsor_content" SET DEFAULT false;ALTER TABLE "user_profiles" ALTER COLUMN "sponsor_content" TYPE BOOLEAN;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "payment_method" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "bank_country" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "bank_country" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "bank_country" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "financial_institution" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "financial_institution" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "financial_institution" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "swift_code" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "swift_code" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "swift_code" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "bank_account_number" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "bank_account_number" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "bank_account_number" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "proof_type" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "proof_type" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "proof_type" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "bank_proof_url" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "bank_proof_url" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "bank_proof_url" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "verification_method" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "verification_method" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "verification_method" TYPE TEXT;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "submitted_for_approval" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "submitted_for_approval" SET DEFAULT false;ALTER TABLE "user_profiles" ALTER COLUMN "submitted_for_approval" TYPE BOOLEAN;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "submitted_at" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "submitted_at" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "submitted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "current_step" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "current_step" SET DEFAULT 0;ALTER TABLE "user_profiles" ALTER COLUMN "current_step" TYPE INTEGER;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "onboarding_status" DROP NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "onboarding_status" SET DEFAULT 'not_started';DO 'BEGIN CREATE TYPE "public"."enum_user_profiles_onboarding_status" AS ENUM(''not_started'', ''in_progress'', ''pending_verification'', ''approved'', ''rejected''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "user_profiles" ALTER COLUMN "onboarding_status" TYPE "public"."enum_user_profiles_onboarding_status" USING ("onboarding_status"::"public"."enum_user_profiles_onboarding_status");
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "user_profiles" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "user_profiles" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "user_profiles" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'user_profiles' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "label" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "label" SET DEFAULT 'Home';ALTER TABLE "addresses" ALTER COLUMN "label" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "full_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "full_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "full_name" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone_country_code" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone_country_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone_country_code" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address_line1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address_line1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address_line1" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address_line2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address_line2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address_line2" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "postal_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "postal_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "postal_code" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "country" TYPE TEXT;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'reviews'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'reviews' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'reviews' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "reviews" DROP CONSTRAINT "reviews_product_id_fkey"
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "reviews"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "reviews" DROP CONSTRAINT "reviews_user_id_fkey"
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "reviews"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "rating" SET NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "rating" DROP DEFAULT;ALTER TABLE "reviews" ALTER COLUMN "rating" TYPE INTEGER;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "title" DROP NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "reviews" ALTER COLUMN "title" TYPE TEXT;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "reviews" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "verified_purchase" DROP NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "verified_purchase" SET DEFAULT false;ALTER TABLE "reviews" ALTER COLUMN "verified_purchase" TYPE BOOLEAN;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "helpful_count" DROP NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "helpful_count" SET DEFAULT 0;ALTER TABLE "reviews" ALTER COLUMN "helpful_count" TYPE INTEGER;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "images" DROP NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "images" DROP DEFAULT;ALTER TABLE "reviews" ALTER COLUMN "images" TYPE TEXT[];
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "reviews" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "reviews" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "reviews" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "reviews" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'reviews' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_carts_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "carts" ALTER COLUMN "user_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "user_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "user_id" TYPE UUID;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_carts_status" AS ENUM(''active'', ''abandoned'', ''converted''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "carts" ALTER COLUMN "status" TYPE "public"."enum_carts_status" USING ("status"::"public"."enum_carts_status");
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'cart_items'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'cart_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'cart_items' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "cart_items" DROP CONSTRAINT "cart_items_cart_id_fkey"
Executing (default): ALTER TABLE "cart_items" ALTER COLUMN "cart_id" SET NOT NULL;ALTER TABLE "cart_items"  ADD FOREIGN KEY ("cart_id") REFERENCES "carts" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "cart_items" DROP CONSTRAINT "cart_items_product_id_fkey"
Executing (default): ALTER TABLE "cart_items" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "cart_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE NO ACTION ON UPDATE CASCADE;
Executing (default): ALTER TABLE "cart_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "cart_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "cart_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "cart_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "cart_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "cart_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "cart_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "cart_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "cart_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "cart_items" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "cart_items" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "cart_items" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'cart_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'wishlists'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'wishlists' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'wishlists' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "wishlists" ALTER COLUMN "user_id" DROP NOT NULL;ALTER TABLE "wishlists" ALTER COLUMN "user_id" DROP DEFAULT;ALTER TABLE "wishlists" ALTER COLUMN "user_id" TYPE UUID;
Executing (default): ALTER TABLE "wishlists" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "wishlists" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "wishlists" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "wishlists" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "wishlists" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "wishlists" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "wishlists" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "wishlists" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "wishlists" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "wishlists" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "wishlists" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "wishlists" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'wishlists' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'wishlist_items'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'wishlist_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'wishlist_items' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "wishlist_items" DROP CONSTRAINT "wishlist_items_wishlist_id_fkey"
Executing (default): ALTER TABLE "wishlist_items" ALTER COLUMN "wishlist_id" SET NOT NULL;ALTER TABLE "wishlist_items"  ADD FOREIGN KEY ("wishlist_id") REFERENCES "wishlists" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "wishlist_items" DROP CONSTRAINT "wishlist_items_product_id_fkey"
Executing (default): ALTER TABLE "wishlist_items" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "wishlist_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE NO ACTION ON UPDATE CASCADE;
Executing (default): ALTER TABLE "wishlist_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "wishlist_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "wishlist_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "wishlist_items" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "wishlist_items" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "wishlist_items" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'wishlist_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_compliance_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''pending_approval''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total_amount" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "total_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'AED';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_orders_type" AS ENUM(''direct'', ''request''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "type" TYPE "public"."enum_orders_type" USING ("type"::"public"."enum_orders_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "compliance_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "compliance_status" SET DEFAULT 'none';DO 'BEGIN CREATE TYPE "public"."enum_orders_compliance_status" AS ENUM(''none'', ''pending_review'', ''approved'', ''rejected''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "compliance_status" TYPE "public"."enum_orders_compliance_status" USING ("compliance_status"::"public"."enum_orders_compliance_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "rejection_reason" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "rejection_reason" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "rejection_reason" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipment_id" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipment_id" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipment_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "label_url" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "label_url" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "label_url" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status_history" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status_history" SET DEFAULT '[]';ALTER TABLE "orders" ALTER COLUMN "status_history" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE NO ACTION ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "vendor_id" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "vendor_id" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "vendor_id" TYPE UUID;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'withdrawal_requests'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_withdrawal_requests_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'withdrawal_requests' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'withdrawal_requests' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "withdrawal_requests" DROP CONSTRAINT "withdrawal_requests_user_id_fkey"
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "withdrawal_requests"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "amount" SET NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "amount" DROP DEFAULT;ALTER TABLE "withdrawal_requests" ALTER COLUMN "amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_withdrawal_requests_status" AS ENUM(''pending'', ''approved'', ''rejected'', ''processed''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "withdrawal_requests" ALTER COLUMN "status" TYPE "public"."enum_withdrawal_requests_status" USING ("status"::"public"."enum_withdrawal_requests_status");
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "admin_note" DROP NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "admin_note" DROP DEFAULT;ALTER TABLE "withdrawal_requests" ALTER COLUMN "admin_note" TYPE TEXT;
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "processed_at" DROP NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "processed_at" DROP DEFAULT;ALTER TABLE "withdrawal_requests" ALTER COLUMN "processed_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "requested_at" SET NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "requested_at" DROP DEFAULT;ALTER TABLE "withdrawal_requests" ALTER COLUMN "requested_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "withdrawal_requests" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "withdrawal_requests" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "withdrawal_requests" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "withdrawal_requests" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'withdrawal_requests' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'platform_settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'platform_settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'platform_settings' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "platform_settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "platform_settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "platform_settings" ALTER COLUMN "value" TYPE TEXT;
Executing (default): ALTER TABLE "platform_settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "platform_settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "platform_settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "platform_settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "platform_settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "platform_settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "platform_settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "platform_settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "platform_settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "platform_settings" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "platform_settings" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "platform_settings" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'platform_settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'financial_logs'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_financial_logs_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_financial_logs_category' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'financial_logs' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'financial_logs' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "financial_logs" DROP CONSTRAINT "financial_logs_user_id_fkey"
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "financial_logs"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_financial_logs_type" AS ENUM(''credit'', ''debit''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "financial_logs" ALTER COLUMN "type" TYPE "public"."enum_financial_logs_type" USING ("type"::"public"."enum_financial_logs_type");
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "category" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_financial_logs_category" AS ENUM(''sale'', ''commission'', ''withdrawal'', ''refund'', ''adjustment''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "financial_logs" ALTER COLUMN "category" TYPE "public"."enum_financial_logs_category" USING ("category"::"public"."enum_financial_logs_category");
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "amount" SET NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "amount" DROP DEFAULT;ALTER TABLE "financial_logs" ALTER COLUMN "amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "reference_id" DROP NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "reference_id" DROP DEFAULT;ALTER TABLE "financial_logs" ALTER COLUMN "reference_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "financial_logs" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "financial_logs" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "financial_logs" ALTER COLUMN "deleted_at" DROP NOT NULL;ALTER TABLE "financial_logs" ALTER COLUMN "deleted_at" DROP DEFAULT;ALTER TABLE "financial_logs" ALTER COLUMN "deleted_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'financial_logs' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'ref_nature_of_business'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'ref_nature_of_business' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'ref_nature_of_business' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "ref_nature_of_business" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "ref_nature_of_business" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "ref_nature_of_business"  ADD UNIQUE ("name");ALTER TABLE "ref_nature_of_business" ALTER COLUMN "name" TYPE TEXT  ;
Executing (default): ALTER TABLE "ref_nature_of_business" ALTER COLUMN "display_order" DROP NOT NULL;ALTER TABLE "ref_nature_of_business" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "ref_nature_of_business" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "ref_nature_of_business" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "ref_nature_of_business" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "ref_nature_of_business" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'ref_nature_of_business' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'ref_end_use_markets'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'ref_end_use_markets' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'ref_end_use_markets' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "ref_end_use_markets" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "ref_end_use_markets" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "ref_end_use_markets"  ADD UNIQUE ("name");ALTER TABLE "ref_end_use_markets" ALTER COLUMN "name" TYPE TEXT  ;
Executing (default): ALTER TABLE "ref_end_use_markets" ALTER COLUMN "display_order" DROP NOT NULL;ALTER TABLE "ref_end_use_markets" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "ref_end_use_markets" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "ref_end_use_markets" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "ref_end_use_markets" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "ref_end_use_markets" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'ref_end_use_markets' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'ref_license_types'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'ref_license_types' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'ref_license_types' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "ref_license_types" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "ref_license_types" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "ref_license_types"  ADD UNIQUE ("name");ALTER TABLE "ref_license_types" ALTER COLUMN "name" TYPE TEXT  ;
Executing (default): ALTER TABLE "ref_license_types" ALTER COLUMN "display_order" DROP NOT NULL;ALTER TABLE "ref_license_types" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "ref_license_types" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "ref_license_types" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "ref_license_types" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "ref_license_types" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'ref_license_types' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'ref_countries'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'ref_countries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'ref_countries' AND tc.table_catalog = 'neondb'
Executing (default): ALTER TABLE "ref_countries" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "ref_countries" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "ref_countries"  ADD UNIQUE ("name");ALTER TABLE "ref_countries" ALTER COLUMN "name" TYPE TEXT  ;
Executing (default): ALTER TABLE "ref_countries" ALTER COLUMN "display_order" DROP NOT NULL;ALTER TABLE "ref_countries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "ref_countries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "ref_countries" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "ref_countries" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "ref_countries" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "ref_countries" ALTER COLUMN "code" SET NOT NULL;ALTER TABLE "ref_countries" ALTER COLUMN "code" DROP DEFAULT;ALTER TABLE "ref_countries"  ADD UNIQUE ("code");ALTER TABLE "ref_countries" ALTER COLUMN "code" TYPE TEXT  ;
Executing (default): ALTER TABLE "ref_countries" ALTER COLUMN "flag" DROP NOT NULL;ALTER TABLE "ref_countries" ALTER COLUMN "flag" DROP DEFAULT;ALTER TABLE "ref_countries" ALTER COLUMN "flag" TYPE TEXT;
Executing (default): ALTER TABLE "ref_countries" ALTER COLUMN "phone_code" DROP NOT NULL;ALTER TABLE "ref_countries" ALTER COLUMN "phone_code" DROP DEFAULT;ALTER TABLE "ref_countries" ALTER COLUMN "phone_code" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'ref_countries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Terminate batch job (Y/N)? 